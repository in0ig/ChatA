# ChatBI 后端服务环境变量配置文件
# 请根据部署环境复制此文件为 .env 并修改相应值

# ==================== 数据库配置 ====================
# 开发环境默认配置
DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=root
DB_PASSWORD=12345678
DB_NAME=chatbi
DB_POOL_SIZE=5

# 测试环境配置示例
# DB_HOST=test-db.example.com
# DB_PORT=3306
# DB_USER=test_user
# DB_PASSWORD=test_password
# DB_NAME=chatbi_test
# DB_POOL_SIZE=3

# 生产环境配置示例
# DB_HOST=prod-db.example.com
# DB_PORT=3306
# DB_USER=prod_user
# DB_PASSWORD=strong_production_password
# DB_NAME=chatbi_prod
# DB_POOL_SIZE=10

# ==================== Redis 配置 ====================
# 字典缓存和会话存储
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
DICTIONARY_CACHE_ENABLED=true
DICTIONARY_CACHE_TTL=3600

# 生产环境Redis配置示例
# REDIS_HOST=redis-prod.example.com
# REDIS_PORT=6379
# REDIS_PASSWORD=strong_redis_password
# DICTIONARY_CACHE_ENABLED=true
# DICTIONARY_CACHE_TTL=7200

# ==================== 模型配置 ====================
# 模型类型: local (本地模型) 或 cloud (云服务)
MODEL_TYPE=local
QWEN_MODEL_NAME=qwen-agent

# 云模式需要的API密钥
# QWEN_API_KEY=your_qwen_api_key_here

# ==================== 应用配置 ====================
# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 调试模式: true/false
DEBUG=false

# ==================== 文件上传配置 ====================
# 上传文件存储目录
UPLOAD_DIR=/var/www/chatbi/uploads

# 最大文件大小 (字节)
MAX_FILE_SIZE=52428800  # 50MB

# ==================== 安全配置 ====================
# JWT 密钥
JWT_SECRET_KEY=your_jwt_secret_key_here

# ==================== 网络配置 ====================
# 服务监听地址
SERVER_HOST=0.0.0.0
SERVER_PORT=8000

# ==================== 日志配置 ====================
# 日志文件路径
LOG_FILE=/var/log/chatbi/backend.log

# 日志文件最大大小 (字节)
LOG_MAX_SIZE=104857600  # 100MB

# 日志文件保留数量
LOG_BACKUP_COUNT=5

# ==================== 数据迁移配置 ====================
# Alembic 数据库迁移配置
ALEMBIC_SCRIPT_LOCATION=alembic
ALEMBIC_VERSION_LOCATIONS=alembic/versions

# ==================== 监控配置 ====================
# Prometheus 监控端口
PROMETHEUS_PORT=9091

# ==================== 高可用配置 ====================
# 多实例部署时的唯一实例ID
INSTANCE_ID=chatbi-backend-01

# ==================== 其他配置 ====================
# 是否启用数据库连接健康检查
ENABLE_DB_HEALTH_CHECK=true

# 是否启用Redis连接健康检查
ENABLE_REDIS_HEALTH_CHECK=true

# ==================== 环境特定配置 ====================
# 开发环境
[development]
DB_HOST=127.0.0.1
DB_PASSWORD=12345678
DEBUG=true
LOG_LEVEL=DEBUG

# 测试环境
[test]
DB_HOST=test-db.example.com
DB_PASSWORD=test_password
DEBUG=false
LOG_LEVEL=INFO

# 生产环境
[production]
DB_HOST=prod-db.example.com
DB_PASSWORD=strong_production_password
DEBUG=false
LOG_LEVEL=INFO
UPLOAD_DIR=/var/www/chatbi/uploads
LOG_FILE=/var/log/chatbi/backend.log

# 注意：此文件为示例文件，实际部署时请复制为 .env 并根据环境修改
# 不要将 .env 文件提交到版本控制系统中
# 使用 git add .env 会触发 .gitignore 规则，自动忽略该文件
