INFO:     Will watch for changes in these directories: ['/Users/zhanh391/PC/ChatBI/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [78184] using StatReload
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [78249]
INFO:     Waiting for application startup.
2026-01-27 11:03:57 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:03:57 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
INFO:     127.0.0.1:50192 - "GET /docs HTTP/1.1" 200 OK
WARNING:  StatReload detected changes in 'src/api/data_table_api.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:05:41 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [78249]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [90566]
INFO:     Waiting for application startup.
2026-01-27 11:05:43 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:05:43 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'src/services/table_sync.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:08:48 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [90566]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [2239]
INFO:     Waiting for application startup.
2026-01-27 11:08:50 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:08:50 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'src/services/table_sync.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:09:40 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [2239]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [8007]
INFO:     Waiting for application startup.
2026-01-27 11:09:41 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:09:41 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'src/services/table_sync.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:10:27 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [8007]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [13579]
INFO:     Waiting for application startup.
2026-01-27 11:10:28 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:10:29 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'src/services/table_sync.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:11:20 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [13579]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [19839]
INFO:     Waiting for application startup.
2026-01-27 11:11:22 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:11:22 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:11:36 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [19839]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [21465]
INFO:     Waiting for application startup.
2026-01-27 11:11:38 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:11:38 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:11:41 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [21465]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [22160]
INFO:     Waiting for application startup.
2026-01-27 11:11:43 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:11:43 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:12:02 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [22160]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [24280]
INFO:     Waiting for application startup.
2026-01-27 11:12:03 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:12:03 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:12:10 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [24280]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [24704]
INFO:     Waiting for application startup.
2026-01-27 11:12:11 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:12:11 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:12:27 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [24704]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [24985]
INFO:     Waiting for application startup.
2026-01-27 11:12:28 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:12:28 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:12:36 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [24985]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [25106]
INFO:     Waiting for application startup.
2026-01-27 11:12:37 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:12:37 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:12:43 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [25106]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [25250]
INFO:     Waiting for application startup.
2026-01-27 11:12:44 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:12:44 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:12:52 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [25250]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [25401]
INFO:     Waiting for application startup.
2026-01-27 11:12:53 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:12:53 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:16:50 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [25401]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [43492]
INFO:     Waiting for application startup.
2026-01-27 11:16:52 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:16:52 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:17:16 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [43492]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [46046]
INFO:     Waiting for application startup.
2026-01-27 11:17:18 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:17:18 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:17:37 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [46046]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [47152]
INFO:     Waiting for application startup.
2026-01-27 11:17:38 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:17:38 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:17:46 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [47152]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [47287]
INFO:     Waiting for application startup.
2026-01-27 11:17:47 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:17:47 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:17:57 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [47287]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [47419]
INFO:     Waiting for application startup.
2026-01-27 11:17:58 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:17:59 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:18:18 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [47419]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [47675]
INFO:     Waiting for application startup.
2026-01-27 11:18:19 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:18:19 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:18:51 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [47675]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [48096]
INFO:     Waiting for application startup.
2026-01-27 11:18:53 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:18:53 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:19:16 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [48096]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [48735]
INFO:     Waiting for application startup.
2026-01-27 11:19:18 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:19:18 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:19:42 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [48735]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [50611]
INFO:     Waiting for application startup.
2026-01-27 11:19:44 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:19:44 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:19:54 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [50611]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [51813]
INFO:     Waiting for application startup.
2026-01-27 11:19:55 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:19:55 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:20:22 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [51813]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [54894]
INFO:     Waiting for application startup.
2026-01-27 11:20:23 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:20:23 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:20:31 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [54894]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [55814]
INFO:     Waiting for application startup.
2026-01-27 11:20:33 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:20:33 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:20:52 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [55814]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [57902]
INFO:     Waiting for application startup.
2026-01-27 11:20:53 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:20:53 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:21:03 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [57902]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [59105]
INFO:     Waiting for application startup.
2026-01-27 11:21:05 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:21:05 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:21:22 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [59105]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [61061]
INFO:     Waiting for application startup.
2026-01-27 11:21:23 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:21:23 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:21:32 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [61061]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [62061]
INFO:     Waiting for application startup.
2026-01-27 11:21:33 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:21:33 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:30:28 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [62061]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [97379]
INFO:     Waiting for application startup.
2026-01-27 11:30:30 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:30:30 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:30:41 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [97379]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [98585]
INFO:     Waiting for application startup.
2026-01-27 11:30:43 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:30:43 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:30:43 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [98585]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [98755]
INFO:     Waiting for application startup.
2026-01-27 11:30:45 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:30:45 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:30:46 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [98755]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [98965]
INFO:     Waiting for application startup.
2026-01-27 11:30:48 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:30:48 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:31:46 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [98965]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [6253]
INFO:     Waiting for application startup.
2026-01-27 11:31:47 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:31:47 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:31:49 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [6253]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [6569]
INFO:     Waiting for application startup.
2026-01-27 11:31:50 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:31:50 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:32:34 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [6569]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [12259]
INFO:     Waiting for application startup.
2026-01-27 11:32:36 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:32:36 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:32:51 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [12259]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [13949]
INFO:     Waiting for application startup.
2026-01-27 11:32:52 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:32:52 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:33:08 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [13949]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [14268]
INFO:     Waiting for application startup.
2026-01-27 11:33:10 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:33:10 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:33:29 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [14268]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [14417]
INFO:     Waiting for application startup.
2026-01-27 11:33:30 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:33:30 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:34:27 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [14417]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [15193]
INFO:     Waiting for application startup.
2026-01-27 11:34:28 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:34:28 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 11:35:52 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [15193]
INFO:src.database_engine:Base.metadata.tables keys: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database_engine:DataSource.__table__.name: data_sources
INFO:src.database_engine:DataTable.__table__.name: data_tables
INFO:src.database_engine:TableField.__table__.name: table_fields
INFO:src.database_engine:Dictionary.__table__.name: dictionaries
INFO:src.database_engine:DictionaryItem.__table__.name: dictionary_items
INFO:src.database_engine:DynamicDictionaryConfig.__table__.name: dynamic_dictionary_configs
INFO:src.database_engine:TableRelation.__table__.name: table_relations
INFO:src.database_engine:KnowledgeBase.__table__.name: knowledge_bases
INFO:src.database_engine:KnowledgeItem.__table__.name: knowledge_items
INFO:src.database_engine:PromptConfig.__table__.name: prompt_config
INFO:src.database_engine:SessionContext.__table__.name: session_context
INFO:src.database_engine:ConversationMessage.__table__.name: conversation_messages
INFO:src.database_engine:TokenUsageStats.__table__.name: token_usage_stats
INFO:src.database_engine:模型 DataSource 的表 data_sources 已注册到Base.metadata
INFO:src.database_engine:模型 DataTable 的表 data_tables 已注册到Base.metadata
INFO:src.database_engine:模型 TableField 的表 table_fields 已注册到Base.metadata
INFO:src.database_engine:模型 Dictionary 的表 dictionaries 已注册到Base.metadata
INFO:src.database_engine:模型 DictionaryItem 的表 dictionary_items 已注册到Base.metadata
INFO:src.database_engine:模型 DynamicDictionaryConfig 的表 dynamic_dictionary_configs 已注册到Base.metadata
INFO:src.database_engine:模型 TableRelation 的表 table_relations 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeBase 的表 knowledge_bases 已注册到Base.metadata
INFO:src.database_engine:模型 KnowledgeItem 的表 knowledge_items 已注册到Base.metadata
INFO:src.database_engine:模型 PromptConfig 的表 prompt_config 已注册到Base.metadata
INFO:src.database_engine:模型 SessionContext 的表 session_context 已注册到Base.metadata
INFO:src.database_engine:模型 ConversationMessage 的表 conversation_messages 已注册到Base.metadata
INFO:src.database_engine:模型 TokenUsageStats 的表 token_usage_stats 已注册到Base.metadata
INFO:src.database_engine:Base.metadata.tables keys after manual registration: ['data_sources', 'data_tables', 'table_fields', 'dictionaries', 'dictionary_items', 'dynamic_dictionary_configs', 'table_relations', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'conversation_messages', 'token_usage_stats']
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [23766]
INFO:     Waiting for application startup.
2026-01-27 11:35:54 - ChatBI - INFO - Initializing database connection on startup...
2026-01-27 11:35:54 - ChatBI - INFO - Database tables created successfully
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-27 12:11:12 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [23766]
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_sync_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/database_engine.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/database.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/conftest.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_field.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/schemas/data_table_schema.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_field_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_upload.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_upload.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_upload.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_upload_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_upload_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_upload_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_upload_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_upload_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_service.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_parser_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_parser_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_parser.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/services/excel_importer.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_excel_importer_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_relation_validator.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'src/api/table_relation.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'tests/unit/test_table_relation_graph_api.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
WARNING:  StatReload detected changes in 'alembic/versions/005_create_data_preparation_tables.py'. Reloading...
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001fff4a0c0 (most recent call first):
  <no Python frame>
