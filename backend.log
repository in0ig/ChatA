INFO:     Will watch for changes in these directories: ['/Users/zhanh391/PC/ChatBI/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [68394] using StatReload
INFO:src.database_engine:Base.metadata.tables keys: ['conversation_messages', 'data_sources', 'data_tables', 'dictionaries', 'dictionary_items', 'dictionary_version_items', 'dictionary_versions', 'dynamic_dictionary_configs', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'table_fields', 'table_folders', 'table_relations', 'token_usage_stats']
INFO:src.database_engine:数据库连接池健康检查通过
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:src.services.excel_service:ExcelService initialized
INFO:src.services.excel_parser:ExcelParser initialized
INFO:src.config:配置加载成功
INFO:src.config:配置验证通过
ERROR:src.services.dictionary_cache:Failed to connect to Redis for dictionary cache: Error 61 connecting to 127.0.0.1:6379. Connection refused.
INFO:src.services.data_preparation_service:DictionaryService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [68400]
INFO:     Waiting for application startup.
2026-01-31 19:21:34 - ChatBI - INFO - Registered routes:
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /openapi.json
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /docs
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /redoc
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/data-sources/{source_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/test
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/upload
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}/activate
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}/tables
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/query/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/theme
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/theme
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/language
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/language
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/notifications
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/notifications
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/query/history
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/query/history
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/query/history/{history_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_type}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/prompts/api/prompts
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/context
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/sessions/{session_id}/context/summarize
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/messages
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/token-usage
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/sessions/sessions/{session_id}/message
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/conversation-history
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/last-message
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/messages-by-parent/{parent_message_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/knowledge-base/{knowledge_base_id}/items
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/columns
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/refresh
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/sync/status
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync/cancel
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/{table_id}/fields
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/table-fields/{field_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/upload-excel
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/excel/structure
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/excel/sheet/preview
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/excel/sheet/validate
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/excel/generate-schema
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/import-excel
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/import-status/{job_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/import-cancel/{job_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-relations
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-relations/graph
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-relations/{relation_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/table-relations
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/table-relations/{relation_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/table-relations/{relation_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/tree
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/items
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items/batch
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/export
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/download
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/cache/stats
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/import
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/test-query
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/{dictionary_id}/refresh
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}/refresh-status
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionary-version/create-from-current
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionary-version/{dictionary_id}/list
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionary-version/detail/{version_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionary-version/compare
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionary-version/rollback
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionary-version/statistics/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-folders/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-folders/tree
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/table-folders/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-folders/{folder_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/table-folders/{folder_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/table-folders/{folder_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/table-folders/{folder_id}/move
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /health
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /health/db
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2026-01-31 19:21:34 - ChatBI - INFO - Custom OpenAPI schema for data preparation module has been configured
2026-01-31 19:21:34 - ChatBI - INFO - Initializing database connection on startup...
2026-01-31 19:21:34 - ChatBI - INFO - Database tables created successfully
2026-01-31 19:21:34 - ChatBI - INFO - Registered routes:
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /openapi.json
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /docs
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2026-01-31 19:21:34 - ChatBI - INFO - {'GET', 'HEAD'} /redoc
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/data-sources/{source_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/test
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/upload
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}/activate
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}/tables
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/query/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/theme
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/theme
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/language
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/language
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/settings/notifications
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/settings/notifications
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/query/history
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/query/history
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/query/history/{history_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_type}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/prompts/api/prompts
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/context
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/sessions/{session_id}/context/summarize
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/messages
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/token-usage
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/sessions/sessions/{session_id}/message
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/conversation-history
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/last-message
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/messages-by-parent/{parent_message_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/knowledge-base/{knowledge_base_id}/items
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/columns
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/refresh
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/sync/status
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync/cancel
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/{table_id}/fields
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/table-fields/{field_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-sources/upload-excel
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/excel/structure
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/excel/sheet/preview
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/excel/sheet/validate
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/excel/generate-schema
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/import-excel
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/data-tables/import-status/{job_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/data-tables/import-cancel/{job_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-relations
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-relations/graph
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-relations/{relation_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/table-relations
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/table-relations/{relation_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/table-relations/{relation_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/tree
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/items
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items/batch
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/export
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/download
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionaries/cache/stats
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/import
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/test-query
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/{dictionary_id}/refresh
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}/refresh-status
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionary-version/create-from-current
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionary-version/{dictionary_id}/list
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionary-version/detail/{version_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionary-version/compare
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/dictionary-version/rollback
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/dictionary-version/statistics/{dictionary_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-folders/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-folders/tree
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/table-folders/
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /api/table-folders/{folder_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'PUT'} /api/table-folders/{folder_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'DELETE'} /api/table-folders/{folder_id}
2026-01-31 19:21:34 - ChatBI - INFO - {'POST'} /api/table-folders/{folder_id}/move
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /health
2026-01-31 19:21:34 - ChatBI - INFO - {'GET'} /health/db
INFO:     Application startup complete.
2026-01-31 19:21:37 - ChatBI - INFO - Health check endpoint accessed
INFO:     127.0.0.1:49726 - "GET /health HTTP/1.1" 200 OK
INFO:     127.0.0.1:50471 - "GET /docs HTTP/1.1" 200 OK
2026-01-31 19:23:51 - ChatBI - INFO - Health check endpoint accessed
INFO:     127.0.0.1:50514 - "GET /health HTTP/1.1" 200 OK
2026-01-31 19:23:59 - ChatBI - INFO - Database health check endpoint accessed
2026-01-31 19:23:59 - ChatBI - ERROR - Database connection failed: Not an executable object: 'SELECT 1'
INFO:     127.0.0.1:50570 - "GET /health/db HTTP/1.1" 200 OK
INFO:src.api.data_source_api:Retrieving data sources with filters - page: 1, page_size: 10, search: None, status: None, db_type: None, source_type: None
INFO:src.services.data_source_service:Retrieving data sources with filters - page: 1, page_size: 10, search: None, status: None, db_type: None, source_type: None
INFO:src.services.data_source_service:Retrieved 0 data sources
INFO:src.api.data_source_api:Retrieved 0 data sources
INFO:     127.0.0.1:50607 - "GET /api/data-sources/ HTTP/1.1" 200 OK
INFO:src.api.dictionary:Retrieving dictionaries with filters - page: 1, page_size: 10, search: None, status: None, parent_id: None
INFO:src.services.data_preparation_service:Getting dictionaries with page=1, page_size=10, search=None, status=None, parent_id=None
ERROR:src.api.dictionary:Failed to retrieve dictionaries: object of type 'builtin_function_or_method' has no len()
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/dictionary.py", line 58, in get_dictionaries
    logger.info(f"Retrieved {len(dictionaries.items)} dictionaries out of {dictionaries.total} total")
                             ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'builtin_function_or_method' has no len()
INFO:     127.0.0.1:50652 - "GET /api/dictionaries/ HTTP/1.1" 500 Internal Server Error
INFO:src.api.data_table_api:Retrieving data tables with filters - page: 1, page_size: 10, search: None, source_id: None, status: None
INFO:src.services.data_table_service:Retrieving data tables with filters - page: 1, page_size: 10, search: None, source_id: None, status: None
INFO:src.services.data_table_service:Retrieved 0 data tables out of 0 total
ERROR:src.api.data_table_api:Failed to retrieve data tables: 1 validation error for DataTableListResponse
pages
  Input should be greater than or equal to 1 [type=greater_than_equal, input_value=0, input_type=int]
    For further information visit https://errors.pydantic.dev/2.12/v/greater_than_equal
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/data_table_api.py", line 48, in get_data_tables
    tables_response = data_table_service.get_all_tables(
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zhanh391/PC/ChatBI/backend/src/services/data_table_service.py", line 85, in get_all_tables
    return DataTableListResponse(
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for DataTableListResponse
pages
  Input should be greater than or equal to 1 [type=greater_than_equal, input_value=0, input_type=int]
    For further information visit https://errors.pydantic.dev/2.12/v/greater_than_equal
INFO:     127.0.0.1:50700 - "GET /api/data-tables/api/data-tables/ HTTP/1.1" 500 Internal Server Error
WARNING:  StatReload detected changes in 'src/api/dictionary.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-31 19:25:46 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [68400]
INFO:src.database_engine:Base.metadata.tables keys: ['conversation_messages', 'data_sources', 'data_tables', 'dictionaries', 'dictionary_items', 'dictionary_version_items', 'dictionary_versions', 'dynamic_dictionary_configs', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'table_fields', 'table_folders', 'table_relations', 'token_usage_stats']
INFO:src.database_engine:数据库连接池健康检查通过
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:src.services.excel_service:ExcelService initialized
INFO:src.services.excel_parser:ExcelParser initialized
INFO:src.config:配置加载成功
INFO:src.config:配置验证通过
ERROR:src.services.dictionary_cache:Failed to connect to Redis for dictionary cache: Error 61 connecting to 127.0.0.1:6379. Connection refused.
INFO:src.services.data_preparation_service:DictionaryService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [81792]
INFO:     Waiting for application startup.
2026-01-31 19:25:48 - ChatBI - INFO - Registered routes:
2026-01-31 19:25:48 - ChatBI - INFO - {'GET', 'HEAD'} /openapi.json
2026-01-31 19:25:48 - ChatBI - INFO - {'GET', 'HEAD'} /docs
2026-01-31 19:25:48 - ChatBI - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2026-01-31 19:25:48 - ChatBI - INFO - {'GET', 'HEAD'} /redoc
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-sources/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/data-sources/{source_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-sources/test
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-sources/upload
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}/activate
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}/tables
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/query/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/settings/
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/settings/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/settings/theme
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/settings/theme
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/settings/language
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/settings/language
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/settings/notifications
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/settings/notifications
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/query/history
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/query/history
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/query/history/{history_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_type}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/prompts/api/prompts
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/context
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/sessions/{session_id}/context/summarize
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/messages
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/token-usage
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/sessions/sessions/{session_id}/message
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/conversation-history
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/last-message
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/messages-by-parent/{parent_message_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/knowledge-base/{knowledge_base_id}/items
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/columns
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/refresh
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/sync/status
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync/cancel
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-tables/{table_id}/fields
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/table-fields/{field_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-sources/upload-excel
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/excel/structure
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/excel/sheet/preview
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/excel/sheet/validate
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/excel/generate-schema
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-tables/import-excel
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/data-tables/import-status/{job_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/data-tables/import-cancel/{job_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/table-relations
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/table-relations/graph
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/table-relations/{relation_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/table-relations
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/table-relations/{relation_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/table-relations/{relation_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/tree
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionaries/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/items
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items/batch
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/export
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/download
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionaries/cache/stats
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/import
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/test-query
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/{dictionary_id}/refresh
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}/refresh-status
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionary-version/create-from-current
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionary-version/{dictionary_id}/list
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionary-version/detail/{version_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionary-version/compare
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/dictionary-version/rollback
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/dictionary-version/statistics/{dictionary_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/table-folders/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/table-folders/tree
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/table-folders/
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /api/table-folders/{folder_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'PUT'} /api/table-folders/{folder_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'DELETE'} /api/table-folders/{folder_id}
2026-01-31 19:25:48 - ChatBI - INFO - {'POST'} /api/table-folders/{folder_id}/move
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /health
2026-01-31 19:25:48 - ChatBI - INFO - {'GET'} /health/db
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2026-01-31 19:25:49 - ChatBI - INFO - Custom OpenAPI schema for data preparation module has been configured
2026-01-31 19:25:49 - ChatBI - INFO - Initializing database connection on startup...
2026-01-31 19:25:49 - ChatBI - INFO - Database tables created successfully
2026-01-31 19:25:49 - ChatBI - INFO - Registered routes:
2026-01-31 19:25:49 - ChatBI - INFO - {'GET', 'HEAD'} /openapi.json
2026-01-31 19:25:49 - ChatBI - INFO - {'GET', 'HEAD'} /docs
2026-01-31 19:25:49 - ChatBI - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2026-01-31 19:25:49 - ChatBI - INFO - {'GET', 'HEAD'} /redoc
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-sources/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/data-sources/{source_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-sources/test
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-sources/upload
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}/activate
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}/tables
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/query/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/settings/
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/settings/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/settings/theme
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/settings/theme
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/settings/language
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/settings/language
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/settings/notifications
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/settings/notifications
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/query/history
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/query/history
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/query/history/{history_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_type}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/prompts/api/prompts
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/context
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/sessions/{session_id}/context/summarize
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/messages
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/token-usage
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/sessions/sessions/{session_id}/message
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/conversation-history
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/last-message
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/messages-by-parent/{parent_message_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/knowledge-base/{knowledge_base_id}/items
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/columns
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/refresh
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/sync/status
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync/cancel
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-tables/{table_id}/fields
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/table-fields/{field_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-sources/upload-excel
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/excel/structure
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/excel/sheet/preview
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/excel/sheet/validate
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/excel/generate-schema
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-tables/import-excel
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/data-tables/import-status/{job_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/data-tables/import-cancel/{job_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/table-relations
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/table-relations/graph
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/table-relations/{relation_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/table-relations
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/table-relations/{relation_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/table-relations/{relation_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/tree
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionaries/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/items
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items/batch
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/export
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/download
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionaries/cache/stats
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/import
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/test-query
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/{dictionary_id}/refresh
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}/refresh-status
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionary-version/create-from-current
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionary-version/{dictionary_id}/list
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionary-version/detail/{version_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionary-version/compare
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/dictionary-version/rollback
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/dictionary-version/statistics/{dictionary_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/table-folders/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/table-folders/tree
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/table-folders/
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /api/table-folders/{folder_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'PUT'} /api/table-folders/{folder_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'DELETE'} /api/table-folders/{folder_id}
2026-01-31 19:25:49 - ChatBI - INFO - {'POST'} /api/table-folders/{folder_id}/move
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /health
2026-01-31 19:25:49 - ChatBI - INFO - {'GET'} /health/db
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'src/services/data_table_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2026-01-31 19:26:05 - ChatBI - INFO - Closing database connection on shutdown...
INFO:     Application shutdown complete.
INFO:     Finished server process [81792]
INFO:src.database_engine:Base.metadata.tables keys: ['conversation_messages', 'data_sources', 'data_tables', 'dictionaries', 'dictionary_items', 'dictionary_version_items', 'dictionary_versions', 'dynamic_dictionary_configs', 'knowledge_bases', 'knowledge_items', 'prompt_config', 'session_context', 'table_fields', 'table_folders', 'table_relations', 'token_usage_stats']
INFO:src.database_engine:数据库连接池健康检查通过
INFO:src.database:生产模式已启用，使用MySQL数据库
INFO:src.services.data_source_service:DataSourceService initialized
INFO:src.services.nlu_service:NLUParser initialized with 19 metric keywords and 20 dimension keywords
INFO:src.qwen_integration:QwenIntegration initialized with model_type='local', model_name='qwen-agent'
INFO:src.sql_generator_qwen:SQLGeneratorQwen initialized with model_type='local', model_name='qwen-agent'
INFO:src.services.query_service:QueryService initialized with model_type='local', cache size: 1000, TTL: 300 seconds
INFO:src.services.settings_service:SettingsService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:src.services.excel_service:ExcelService initialized
INFO:src.services.excel_parser:ExcelParser initialized
INFO:src.config:配置加载成功
INFO:src.config:配置验证通过
ERROR:src.services.dictionary_cache:Failed to connect to Redis for dictionary cache: Error 61 connecting to 127.0.0.1:6379. Connection refused.
INFO:src.services.data_preparation_service:DictionaryService initialized
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
INFO:     Started server process [83079]
INFO:     Waiting for application startup.
2026-01-31 19:26:08 - ChatBI - INFO - Registered routes:
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /openapi.json
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /docs
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /redoc
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/data-sources/{source_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/test
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/upload
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}/activate
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}/tables
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/query/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/theme
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/theme
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/language
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/language
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/notifications
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/notifications
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/query/history
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/query/history
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/query/history/{history_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_type}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/prompts/api/prompts
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/context
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/sessions/{session_id}/context/summarize
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/messages
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/token-usage
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/sessions/sessions/{session_id}/message
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/conversation-history
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/last-message
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/messages-by-parent/{parent_message_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/knowledge-base/{knowledge_base_id}/items
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/columns
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/refresh
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/sync/status
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync/cancel
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/{table_id}/fields
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/table-fields/{field_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/upload-excel
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/excel/structure
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/excel/sheet/preview
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/excel/sheet/validate
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/excel/generate-schema
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/import-excel
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/import-status/{job_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/import-cancel/{job_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-relations
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-relations/graph
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-relations/{relation_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/table-relations
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/table-relations/{relation_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/table-relations/{relation_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/tree
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/items
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items/batch
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/export
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/download
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/cache/stats
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/import
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/test-query
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/{dictionary_id}/refresh
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}/refresh-status
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionary-version/create-from-current
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionary-version/{dictionary_id}/list
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionary-version/detail/{version_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionary-version/compare
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionary-version/rollback
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionary-version/statistics/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-folders/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-folders/tree
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/table-folders/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-folders/{folder_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/table-folders/{folder_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/table-folders/{folder_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/table-folders/{folder_id}/move
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /health
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /health/db
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
/Users/zhanh391/PC/ChatBI/backend/.venv/lib/python3.12/site-packages/pydantic/_internal/_config.py:383: UserWarning: Valid config keys have changed in V2:
* 'schema_extra' has been renamed to 'json_schema_extra'
  warnings.warn(message, UserWarning)
2026-01-31 19:26:08 - ChatBI - INFO - Custom OpenAPI schema for data preparation module has been configured
2026-01-31 19:26:08 - ChatBI - INFO - Initializing database connection on startup...
2026-01-31 19:26:08 - ChatBI - INFO - Database tables created successfully
2026-01-31 19:26:08 - ChatBI - INFO - Registered routes:
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /openapi.json
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /docs
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /docs/oauth2-redirect
2026-01-31 19:26:08 - ChatBI - INFO - {'GET', 'HEAD'} /redoc
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/data-sources/{source_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/test
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/upload
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/data-sources/{source_id}/activate
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-sources/{source_id}/tables
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/query/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/theme
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/theme
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/language
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/language
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/settings/notifications
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/settings/notifications
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/query/history
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/query/history
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/query/history/{history_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_type}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/prompts/api/prompts
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/prompts/api/prompts/{prompt_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/context
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/sessions/{session_id}/context/summarize
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/messages
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/{session_id}/token-usage
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/sessions/sessions/{session_id}/message
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/conversation-history
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/last-message
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/sessions/sessions/{session_id}/messages-by-parent/{parent_message_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/knowledge-bases/api/knowledge-bases/
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/knowledge-bases/api/knowledge-bases/{id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/knowledge-items/api/knowledge-items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/knowledge-items/api/knowledge-items/knowledge-base/{knowledge_base_id}/items
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/data-tables/api/data-tables/{table_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/columns
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/refresh
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/api/data-tables/{table_id}/sync/status
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/api/data-tables/{table_id}/sync/cancel
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/{table_id}/fields
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/table-fields/{field_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-sources/upload-excel
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/excel/structure
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/excel/sheet/preview
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/excel/sheet/validate
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/excel/generate-schema
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/import-excel
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/data-tables/import-status/{job_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/data-tables/import-cancel/{job_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-relations
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-relations/graph
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-relations/{relation_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/table-relations
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/table-relations/{relation_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/table-relations/{relation_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/tree
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/items
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/dictionaries/{dict_id}/items/{item_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/items/batch
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/export
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/{dict_id}/download
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionaries/cache/stats
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionaries/{dict_id}/import
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/dynamic-dictionaries/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/test-query
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dynamic-dictionaries/{dictionary_id}/refresh
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dynamic-dictionaries/{dictionary_id}/refresh-status
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionary-version/create-from-current
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionary-version/{dictionary_id}/list
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionary-version/detail/{version_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionary-version/compare
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/dictionary-version/rollback
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/dictionary-version/statistics/{dictionary_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-folders/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-folders/tree
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/table-folders/
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /api/table-folders/{folder_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'PUT'} /api/table-folders/{folder_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'DELETE'} /api/table-folders/{folder_id}
2026-01-31 19:26:08 - ChatBI - INFO - {'POST'} /api/table-folders/{folder_id}/move
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /health
2026-01-31 19:26:08 - ChatBI - INFO - {'GET'} /health/db
INFO:     Application startup complete.
INFO:src.api.dictionary:Retrieving dictionaries with filters - page: 1, page_size: 10, search: None, status: None, parent_id: None
INFO:src.services.data_preparation_service:Getting dictionaries with page=1, page_size=10, search=None, status=None, parent_id=None
ERROR:src.api.dictionary:Failed to retrieve dictionaries: object of type 'builtin_function_or_method' has no len()
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/dictionary.py", line 58, in get_dictionaries
    logger.info(f"Retrieved {len(dictionaries.items)} dictionaries out of {dictionaries.total} total")
                             ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'builtin_function_or_method' has no len()
INFO:     127.0.0.1:51390 - "GET /api/dictionaries/ HTTP/1.1" 500 Internal Server Error
INFO:src.api.dictionary:Retrieving dictionaries with filters - page: 1, page_size: 10, search: None, status: None, parent_id: None
INFO:src.services.data_preparation_service:Getting dictionaries with page=1, page_size=10, search=None, status=None, parent_id=None
ERROR:src.api.dictionary:Failed to retrieve dictionaries: object of type 'builtin_function_or_method' has no len()
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/dictionary.py", line 58, in get_dictionaries
    logger.info(f"Retrieved {len(dictionaries['items'])} dictionaries out of {dictionaries['total']} total")
                             ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'builtin_function_or_method' has no len()
INFO:     127.0.0.1:51748 - "GET /api/dictionaries/ HTTP/1.1" 500 Internal Server Error
INFO:src.api.dictionary:Retrieving dictionaries with filters - page: 1, page_size: 10, search: None, status: None, parent_id: None
INFO:src.services.data_preparation_service:Getting dictionaries with page=1, page_size=10, search=None, status=None, parent_id=None
ERROR:src.api.dictionary:Failed to retrieve dictionaries: object of type 'builtin_function_or_method' has no len()
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/dictionary.py", line 58, in get_dictionaries
    logger.info(f"Retrieved {len(dictionaries['items'])} dictionaries out of {dictionaries['total']} total")
                             ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'builtin_function_or_method' has no len()
INFO:     127.0.0.1:52100 - "GET /api/dictionaries/ HTTP/1.1" 500 Internal Server Error
INFO:src.api.dictionary:Retrieving dictionaries with filters - page: 1, page_size: 10, search: None, status: None, parent_id: None
INFO:src.services.data_preparation_service:Getting dictionaries with page=1, page_size=10, search=None, status=None, parent_id=None
ERROR:src.api.dictionary:Failed to retrieve dictionaries: object of type 'builtin_function_or_method' has no len()
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/dictionary.py", line 58, in get_dictionaries
    logger.info(f"Dictionary service returned: {type(dictionaries)}, content: {dictionaries}")
                             ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: object of type 'builtin_function_or_method' has no len()
INFO:     127.0.0.1:52259 - "GET /api/dictionaries/ HTTP/1.1" 500 Internal Server Error
INFO:src.api.dictionary:Retrieving dictionaries with filters - page: 1, page_size: 10, search: None, status: None, parent_id: None
INFO:src.services.data_preparation_service:Getting dictionaries with page=1, page_size=10, search=None, status=None, parent_id=None
ERROR:src.api.dictionary:Failed to retrieve dictionaries: object of type 'builtin_function_or_method' has no len()
Traceback (most recent call last):
  File "/Users/zhanh391/PC/ChatBI/backend/src/api/dictionary.py", line 58, in get_dictionaries
    parent_id=parent_id
                        
TypeError: object of type 'builtin_function_or_method' has no len()
INFO:     127.0.0.1:52662 - "GET /api/dictionaries/ HTTP/1.1" 500 Internal Server Error
